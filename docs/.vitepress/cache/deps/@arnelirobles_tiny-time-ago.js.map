{
  "version": 3,
  "sources": ["../../../../node_modules/@arnelirobles/tiny-time-ago/src/index.ts"],
  "sourcesContent": ["export interface TimeAgoOptions {\n    /** Locale for formatting (default: 'en') */\n    locale?: string;\n    /** Use Intl.RelativeTimeFormat if available (default: true) */\n    useIntl?: boolean;\n}\n\ntype TimeUnit = 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year';\n\ninterface TimeThreshold {\n    unit: TimeUnit;\n    ms: number;\n    max: number;\n}\n\nconst THRESHOLDS: TimeThreshold[] = [\n    { unit: 'second', ms: 1000, max: 60 },\n    { unit: 'minute', ms: 60 * 1000, max: 60 },\n    { unit: 'hour', ms: 60 * 60 * 1000, max: 24 },\n    { unit: 'day', ms: 24 * 60 * 60 * 1000, max: 7 },\n    { unit: 'week', ms: 7 * 24 * 60 * 60 * 1000, max: 4 },\n    { unit: 'month', ms: 30 * 24 * 60 * 60 * 1000, max: 12 },\n    { unit: 'year', ms: 365 * 24 * 60 * 60 * 1000, max: Infinity }\n];\n\n// Fallback strings for when Intl.RelativeTimeFormat is not available\nconst FALLBACK_STRINGS: Record<string, Record<TimeUnit, { singular: string; plural: string }>> = {\n    en: {\n        second: { singular: 'second ago', plural: 'seconds ago' },\n        minute: { singular: 'minute ago', plural: 'minutes ago' },\n        hour: { singular: 'hour ago', plural: 'hours ago' },\n        day: { singular: 'day ago', plural: 'days ago' },\n        week: { singular: 'week ago', plural: 'weeks ago' },\n        month: { singular: 'month ago', plural: 'months ago' },\n        year: { singular: 'year ago', plural: 'years ago' }\n    },\n    es: {\n        second: { singular: 'hace 1 segundo', plural: 'hace {n} segundos' },\n        minute: { singular: 'hace 1 minuto', plural: 'hace {n} minutos' },\n        hour: { singular: 'hace 1 hora', plural: 'hace {n} horas' },\n        day: { singular: 'hace 1 día', plural: 'hace {n} días' },\n        week: { singular: 'hace 1 semana', plural: 'hace {n} semanas' },\n        month: { singular: 'hace 1 mes', plural: 'hace {n} meses' },\n        year: { singular: 'hace 1 año', plural: 'hace {n} años' }\n    }\n};\n\nfunction formatFallback(value: number, unit: TimeUnit, locale: string): string {\n    const strings = FALLBACK_STRINGS[locale] ?? FALLBACK_STRINGS.en;\n    const absValue = Math.abs(value);\n\n    if (absValue === 1) {\n        return strings[unit].singular;\n    }\n\n    return strings[unit].plural.includes('{n}')\n        ? strings[unit].plural.replace('{n}', String(absValue))\n        : `${absValue} ${strings[unit].plural}`;\n}\n\n/**\n * Formats a timestamp as a relative time string.\n *\n * @example\n * timeAgo(Date.now() - 60000);        // '1 minute ago'\n * timeAgo(new Date('2024-12-23'));    // '1 day ago'\n */\nexport function timeAgo(\n    date: Date | number | string,\n    options: TimeAgoOptions = {}\n): string {\n    const { locale = 'en', useIntl = true } = options;\n\n    const timestamp = typeof date === 'string' ? new Date(date).getTime() :\n        date instanceof Date ? date.getTime() : date;\n\n    const now = Date.now();\n    const diff = now - timestamp;\n    const absDiff = Math.abs(diff);\n\n    // Find appropriate unit\n    let unit: TimeUnit = 'second';\n    let value = 0;\n\n    for (const threshold of THRESHOLDS) {\n        if (absDiff < threshold.ms * threshold.max) {\n            unit = threshold.unit;\n            value = Math.round(absDiff / threshold.ms);\n            break;\n        }\n    }\n\n    // Use future tense for future dates\n    const isFuture = diff < 0;\n    value = isFuture ? value : -value;\n\n    // Try Intl.RelativeTimeFormat if available\n    if (useIntl && typeof Intl !== 'undefined' && Intl.RelativeTimeFormat) {\n        try {\n            const rtf = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });\n            return rtf.format(value, unit);\n        } catch {\n            // Fallback if locale not supported\n        }\n    }\n\n    return formatFallback(value, unit, locale);\n}\n\n/**\n * Creates a timeAgo function with preset options.\n */\nexport function createTimeAgo(locale: string) {\n    return (date: Date | number | string) => timeAgo(date, { locale });\n}\n\n/**\n * Live updates an element with relative time.\n * Returns a cleanup function.\n */\ntimeAgo.live = function (\n    element: HTMLElement,\n    date: Date | number | string,\n    options: TimeAgoOptions & { interval?: number } = {}\n): () => void {\n    const { interval = 60000, ...timeAgoOptions } = options;\n\n    const update = () => {\n        element.textContent = timeAgo(date, timeAgoOptions);\n    };\n\n    update();\n    const intervalId = setInterval(update, interval);\n\n    return () => clearInterval(intervalId);\n};\n\nexport default timeAgo;\n"],
  "mappings": ";AAeA,IAAMA,IAA8B,CAChC,EAAE,MAAM,UAAU,IAAI,KAAM,KAAK,GAAG,GACpC,EAAE,MAAM,UAAU,IAAI,KAAW,KAAK,GAAG,GACzC,EAAE,MAAM,QAAQ,IAAI,MAAgB,KAAK,GAAG,GAC5C,EAAE,MAAM,OAAO,IAAI,OAAqB,KAAK,EAAE,GAC/C,EAAE,MAAM,QAAQ,IAAI,QAAyB,KAAK,EAAE,GACpD,EAAE,MAAM,SAAS,IAAI,QAA0B,KAAK,GAAG,GACvD,EAAE,MAAM,QAAQ,IAAI,SAA2B,KAAK,IAAA,EAAS,CACjE;AARA,IAWMC,IAA2F,EAC7F,IAAI,EACA,QAAQ,EAAE,UAAU,cAAc,QAAQ,cAAc,GACxD,QAAQ,EAAE,UAAU,cAAc,QAAQ,cAAc,GACxD,MAAM,EAAE,UAAU,YAAY,QAAQ,YAAY,GAClD,KAAK,EAAE,UAAU,WAAW,QAAQ,WAAW,GAC/C,MAAM,EAAE,UAAU,YAAY,QAAQ,YAAY,GAClD,OAAO,EAAE,UAAU,aAAa,QAAQ,aAAa,GACrD,MAAM,EAAE,UAAU,YAAY,QAAQ,YAAY,EACtD,GACA,IAAI,EACA,QAAQ,EAAE,UAAU,kBAAkB,QAAQ,oBAAoB,GAClE,QAAQ,EAAE,UAAU,iBAAiB,QAAQ,mBAAmB,GAChE,MAAM,EAAE,UAAU,eAAe,QAAQ,iBAAiB,GAC1D,KAAK,EAAE,UAAU,cAAc,QAAQ,gBAAgB,GACvD,MAAM,EAAE,UAAU,iBAAiB,QAAQ,mBAAmB,GAC9D,OAAO,EAAE,UAAU,cAAc,QAAQ,iBAAiB,GAC1D,MAAM,EAAE,UAAU,cAAc,QAAQ,gBAAgB,EAC5D,EACJ;AAEA,SAASC,EAAeC,GAAeC,GAAgBC,GAAwB;AAC3E,MAAMC,IAAUL,EAAiBI,CAAM,KAAKJ,EAAiB,IACvDM,IAAW,KAAK,IAAIJ,CAAK;AAE/B,SAAII,MAAa,IACND,EAAQF,CAAI,EAAE,WAGlBE,EAAQF,CAAI,EAAE,OAAO,SAAS,KAAK,IACpCE,EAAQF,CAAI,EAAE,OAAO,QAAQ,OAAO,OAAOG,CAAQ,CAAC,IACpD,GAAGA,CAAQ,IAAID,EAAQF,CAAI,EAAE,MAAM;AAC7C;AASO,SAASI,EACZC,GACAC,IAA0B,CAAC,GACrB;AACN,MAAM,EAAE,QAAAL,IAAS,MAAM,SAAAM,IAAU,KAAK,IAAID,GAEpCE,IAAY,OAAOH,KAAS,WAAW,IAAI,KAAKA,CAAI,EAAE,QAAQ,IAChEA,aAAgB,OAAOA,EAAK,QAAQ,IAAIA,GAGtCI,IADM,KAAK,IAAI,IACFD,GACbE,IAAU,KAAK,IAAID,CAAI,GAGzBT,IAAiB,UACjBD,IAAQ;AAEZ,WAAWY,KAAaf,EACpB,KAAIc,IAAUC,EAAU,KAAKA,EAAU,KAAK;AACxCX,QAAOW,EAAU,MACjBZ,IAAQ,KAAK,MAAMW,IAAUC,EAAU,EAAE;AACzC;EACJ;AAQJ,MAHAZ,IADiBU,IAAO,IACLV,IAAQ,CAACA,GAGxBQ,KAAW,OAAO,OAAS,OAAe,KAAK,mBAC/C,KAAI;AAEA,WADY,IAAI,KAAK,mBAAmBN,GAAQ,EAAE,SAAS,OAAO,CAAC,EACxD,OAAOF,GAAOC,CAAI;EACjC,QAAQ;EAER;AAGJ,SAAOF,EAAeC,GAAOC,GAAMC,CAAM;AAC7C;AAKO,SAASW,EAAcX,GAAgB;AAC1C,SAAQI,OAAiCD,EAAQC,GAAM,EAAE,QAAAJ,EAAO,CAAC;AACrE;AAMAG,EAAQ,OAAO,SACXS,GACAR,GACAC,IAAkD,CAAC,GACzC;AACV,MAAM,EAAE,UAAAQ,IAAW,KAAO,GAAGC,EAAe,IAAIT,GAE1CU,IAAS,MAAM;AACjBH,MAAQ,cAAcT,EAAQC,GAAMU,CAAc;EACtD;AAEAC,IAAO;AACP,MAAMC,IAAa,YAAYD,GAAQF,CAAQ;AAE/C,SAAO,MAAM,cAAcG,CAAU;AACzC;AAEA,IAAOC,IAAQd;",
  "names": ["THRESHOLDS", "FALLBACK_STRINGS", "formatFallback", "value", "unit", "locale", "strings", "absValue", "timeAgo", "date", "options", "useIntl", "timestamp", "diff", "absDiff", "threshold", "createTimeAgo", "element", "interval", "timeAgoOptions", "update", "intervalId", "index_default"]
}
